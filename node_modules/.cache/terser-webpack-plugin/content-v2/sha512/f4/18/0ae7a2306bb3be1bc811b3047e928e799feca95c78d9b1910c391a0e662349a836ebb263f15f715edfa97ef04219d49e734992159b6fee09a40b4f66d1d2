{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){const i=n(2);e.exports=async(e,t={})=>{const n=`http://api.lvh.me/v2${t.path||\"\"}`;let r=await i(n,{method:t.method||\"POST\",body:JSON.stringify(e||{}),headers:{Authorization:t.token,\"Content-Type\":\"application/json\"}});if(!r.headers.get(\"content-type\").includes(\"application/json\")){throw new Error(\"Invalid content-type on response from monday api graphql\")}let s;try{s=await r.json()}catch(e){throw new Error(\"Could not parse monday graphql response to JSON\")}if(s.errors){throw new Error(\"Graphql validation errors\")}const{status_code:o,error_code:a,error_message:d,error_data:h}=s;if(!r.ok||a){const e=\"There was an error in response from monday.com graphql API\";JSON.stringify(h);throw new ApiError(e,{statusCode:o,errorCode:a,errorMessage:d,errorData:h})}return s}},function(e,t,n){\"use strict\";n.r(t);var i=n(0),r=n.n(i);new class{constructor(){window.monday=this,this.listeners={},this.init=this.init.bind(this),this.token=this.token.bind(this),this.api=this.api.bind(this),this.localApi=this.localApi.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.listen=this.listen.bind(this),this.addListener=this.addListener.bind(this),this.authenticate=this.authenticate.bind(this)}init(e){this.clientId=e,window.addEventListener(\"message\",this.receiveMessage,!1)}token(e){this.apiToken=e}api(e){return this.apiToken?r()({query:e},{token:this.apiToken}):new Promise((t,n)=>{this.localApi(\"api\",{query:e}).then(e=>{t(e.data)})})}localApi(e,t){return new Promise((n,i)=>{const r=Math.random().toString(36).substr(2,9),s=this.clientId;window.parent.postMessage({method:e,args:t,requestId:r,clientId:s},\"*\"),this.addListener(r,e=>{n(e)})})}receiveMessage(e){const{method:t,requestId:n}=e.data,i=[...this.listeners[t]||[],...this.listeners[n]||[]];i&&i.forEach(t=>{t(e.data)})}listen(e,t){this.addListener(e,t),this.localApi(\"listen\",{type:e})}addListener(e,t){this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t)}authenticate(){const e=`https://auth.monday.com/oauth/authorize?client_id=${this.clientId}&scope=me:monday_service_session`;window.location=e}}},function(e,t,n){\"use strict\";var i=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(void 0!==i)return i;throw new Error(\"unable to locate global object\")}();e.exports=t=i.fetch,t.default=i.fetch.bind(i),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response}]);","extractedComments":[]}